{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\joyce\\\\Documents\\\\Curso FULLSTACK\\\\Projeto_Integrador\\\\BACKEND\\\\test\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\joyce\\\\Documents\\\\Curso FULLSTACK\\\\Projeto_Integrador\\\\BACKEND\",\"filename\":\"C:\\\\Users\\\\joyce\\\\Documents\\\\Curso FULLSTACK\\\\Projeto_Integrador\\\\BACKEND\\\\test\\\\user.test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\joyce\\\\Documents\\\\Curso FULLSTACK\\\\Projeto_Integrador\\\\BACKEND\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nvar chai = require('chai');\nvar chaiHttp = require('chai-http');\nvar app = require('../app.js')[\"default\"];\nchai.use(chaiHttp);\nvar expect = chai.expect;\ndescribe('User Routes', function () {\n  it('deve registrar um novo paciente', function (done) {\n    chai.request(app).post('/api/v1/user/paciente/register').send({\n      nome: 'Test User',\n      email: 'testuser@example.com',\n      senha: '123456',\n      contato: '123456789'\n    }).end(function (err, res) {\n      expect(res).to.have.status(201);\n      expect(res.body).to.be.an('object');\n      expect(res.body).to.have.property('success', true);\n      done();\n    });\n  });\n\n  // Adicione outros testes aqui...\n\n  describe('POST /api/v1/user/login', function () {\n    it('deve fazer login com sucesso', function (done) {\n      chai.request(app).post('/api/v1/user/login').send({\n        email: 'paciente@teste.com',\n        password: 'senha123'\n      }).end(function (err, res) {\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property('token');\n        done();\n      });\n    });\n    it('deve falhar ao fazer login com credenciais inválidas', function (done) {\n      chai.request(app).post('/api/v1/user/login').send({\n        email: 'paciente@teste.com',\n        password: 'senha_incorreta'\n      }).end(function (err, res) {\n        expect(res).to.have.status(401);\n        done();\n      });\n    });\n  });\n  describe('POST /api/v1/user/admin/addnew', function () {\n    it('deve adicionar um novo administrador (Requer autenticação)', function (done) {\n      chai.request(app).post('/api/v1/user/admin/addnew').set('Authorization', 'Bearer token_admin_valido').send({\n        name: 'Novo Admin',\n        email: 'admin@teste.com',\n        password: 'senha123'\n      }).end(function (err, res) {\n        expect(res).to.have.status(201);\n        expect(res.body).to.have.property('success', true);\n        done();\n      });\n    });\n  });\n  describe('GET /api/v1/user/doctors', function () {\n    it('deve obter a lista de médicos', function (done) {\n      chai.request(app).get('/api/v1/user/doctors').end(function (err, res) {\n        expect(res).to.have.status(200);\n        expect(res.body).to.be.an('array');\n        done();\n      });\n    });\n  });\n  describe('GET /api/v1/user/admin/logout', function () {\n    it('deve fazer logout de um administrador autenticado', function (done) {\n      chai.request(app).get('/api/v1/user/admin/logout').set('Authorization', 'Bearer token_admin_valido').end(function (err, res) {\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property('message', 'Logout realizado com sucesso');\n        done();\n      });\n    });\n  });\n  describe('POST /api/v1/user/doutor/addnew', function () {\n    it('deve adicionar um novo médico (Requer autenticação)', function (done) {\n      chai.request(app).post('/api/v1/user/doutor/addnew').set('Authorization', 'Bearer token_admin_valido').send({\n        name: 'Doutor Teste',\n        email: 'doutor@teste.com',\n        specialty: 'Cardiologia'\n      }).end(function (err, res) {\n        expect(res).to.have.status(201);\n        expect(res.body).to.have.property('success', true);\n        done();\n      });\n    });\n  });\n  describe('PUT /api/v1/user/doutor/:id', function () {\n    it('deve atualizar as informações de um médico existente', function (done) {\n      chai.request(app).put('/api/v1/user/doutor/doctorId').set('Authorization', 'Bearer token_admin_valido').send({\n        name: 'Doutor Atualizado',\n        specialty: 'Dermatologia'\n      }).end(function (err, res) {\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property('success', true);\n        done();\n      });\n    });\n  });\n  describe('DELETE /api/v1/user/doutor/:doctorId', function () {\n    it('deve excluir um médico existente', function (done) {\n      chai.request(app)[\"delete\"]('/api/v1/user/doutor/doctorId').set('Authorization', 'Bearer token_admin_valido').end(function (err, res) {\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property('message', 'Médico excluído com sucesso');\n        done();\n      });\n    });\n  });\n  after(function (done) {\n    mongoose.connection.close();\n    done();\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGFpIiwicmVxdWlyZSIsImNoYWlIdHRwIiwiYXBwIiwidXNlIiwiZXhwZWN0IiwiZGVzY3JpYmUiLCJpdCIsImRvbmUiLCJyZXF1ZXN0IiwicG9zdCIsInNlbmQiLCJub21lIiwiZW1haWwiLCJzZW5oYSIsImNvbnRhdG8iLCJlbmQiLCJlcnIiLCJyZXMiLCJ0byIsImhhdmUiLCJzdGF0dXMiLCJib2R5IiwiYmUiLCJhbiIsInByb3BlcnR5IiwicGFzc3dvcmQiLCJzZXQiLCJuYW1lIiwiZ2V0Iiwic3BlY2lhbHR5IiwicHV0IiwiYWZ0ZXIiLCJtb25nb29zZSIsImNvbm5lY3Rpb24iLCJjbG9zZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxqb3ljZVxcRG9jdW1lbnRzXFxDdXJzbyBGVUxMU1RBQ0tcXFByb2pldG9fSW50ZWdyYWRvclxcQkFDS0VORFxcdGVzdFxcIiwic291cmNlcyI6WyJ1c2VyLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY2hhaSA9IHJlcXVpcmUoJ2NoYWknKTtcclxuY29uc3QgY2hhaUh0dHAgPSByZXF1aXJlKCdjaGFpLWh0dHAnKTtcclxuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vYXBwLmpzJykuZGVmYXVsdDtcclxuXHJcbmNoYWkudXNlKGNoYWlIdHRwKTtcclxuY29uc3QgeyBleHBlY3QgfSA9IGNoYWk7XHJcblxyXG5kZXNjcmliZSgnVXNlciBSb3V0ZXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnZGV2ZSByZWdpc3RyYXIgdW0gbm92byBwYWNpZW50ZScsIChkb25lKSA9PiB7XHJcbiAgICAgICAgY2hhaS5yZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvdjEvdXNlci9wYWNpZW50ZS9yZWdpc3RlcicpXHJcbiAgICAgICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG5vbWU6ICdUZXN0IFVzZXInLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6ICd0ZXN0dXNlckBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgICAgICAgICBzZW5oYTogJzEyMzQ1NicsXHJcbiAgICAgICAgICAgICAgICBjb250YXRvOiAnMTIzNDU2Nzg5J1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXhwZWN0KHJlcykudG8uaGF2ZS5zdGF0dXMoMjAxKTtcclxuICAgICAgICAgICAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uYmUuYW4oJ29iamVjdCcpO1xyXG4gICAgICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdzdWNjZXNzJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQWRpY2lvbmUgb3V0cm9zIHRlc3RlcyBhcXVpLi4uXHJcblxyXG4gICAgZGVzY3JpYmUoJ1BPU1QgL2FwaS92MS91c2VyL2xvZ2luJywgKCkgPT4ge1xyXG4gICAgICAgIGl0KCdkZXZlIGZhemVyIGxvZ2luIGNvbSBzdWNlc3NvJywgKGRvbmUpID0+IHtcclxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL3YxL3VzZXIvbG9naW4nKVxyXG4gICAgICAgICAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiAncGFjaWVudGVAdGVzdGUuY29tJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogJ3NlbmhhMTIzJyxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDIwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KCd0b2tlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnZGV2ZSBmYWxoYXIgYW8gZmF6ZXIgbG9naW4gY29tIGNyZWRlbmNpYWlzIGludsOhbGlkYXMnLCAoZG9uZSkgPT4ge1xyXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvdjEvdXNlci9sb2dpbicpXHJcbiAgICAgICAgICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6ICdwYWNpZW50ZUB0ZXN0ZS5jb20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAnc2VuaGFfaW5jb3JyZXRhJyxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDQwMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnUE9TVCAvYXBpL3YxL3VzZXIvYWRtaW4vYWRkbmV3JywgKCkgPT4ge1xyXG4gICAgICAgIGl0KCdkZXZlIGFkaWNpb25hciB1bSBub3ZvIGFkbWluaXN0cmFkb3IgKFJlcXVlciBhdXRlbnRpY2HDp8OjbyknLCAoZG9uZSkgPT4ge1xyXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvdjEvdXNlci9hZG1pbi9hZGRuZXcnKVxyXG4gICAgICAgICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgdG9rZW5fYWRtaW5fdmFsaWRvJylcclxuICAgICAgICAgICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTm92byBBZG1pbicsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6ICdhZG1pbkB0ZXN0ZS5jb20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAnc2VuaGExMjMnLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlcykudG8uaGF2ZS5zdGF0dXMoMjAxKTtcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ3N1Y2Nlc3MnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdHRVQgL2FwaS92MS91c2VyL2RvY3RvcnMnLCAoKSA9PiB7XHJcbiAgICAgICAgaXQoJ2RldmUgb2J0ZXIgYSBsaXN0YSBkZSBtw6lkaWNvcycsIChkb25lKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYWkucmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL3YxL3VzZXIvZG9jdG9ycycpXHJcbiAgICAgICAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDIwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5iZS5hbignYXJyYXknKTtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdHRVQgL2FwaS92MS91c2VyL2FkbWluL2xvZ291dCcsICgpID0+IHtcclxuICAgICAgICBpdCgnZGV2ZSBmYXplciBsb2dvdXQgZGUgdW0gYWRtaW5pc3RyYWRvciBhdXRlbnRpY2FkbycsIChkb25lKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYWkucmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL3YxL3VzZXIvYWRtaW4vbG9nb3V0JylcclxuICAgICAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyIHRva2VuX2FkbWluX3ZhbGlkbycpXHJcbiAgICAgICAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDIwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJywgJ0xvZ291dCByZWFsaXphZG8gY29tIHN1Y2Vzc28nKTtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdQT1NUIC9hcGkvdjEvdXNlci9kb3V0b3IvYWRkbmV3JywgKCkgPT4ge1xyXG4gICAgICAgIGl0KCdkZXZlIGFkaWNpb25hciB1bSBub3ZvIG3DqWRpY28gKFJlcXVlciBhdXRlbnRpY2HDp8OjbyknLCAoZG9uZSkgPT4ge1xyXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvdjEvdXNlci9kb3V0b3IvYWRkbmV3JylcclxuICAgICAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyIHRva2VuX2FkbWluX3ZhbGlkbycpXHJcbiAgICAgICAgICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0RvdXRvciBUZXN0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6ICdkb3V0b3JAdGVzdGUuY29tJyxcclxuICAgICAgICAgICAgICAgICAgICBzcGVjaWFsdHk6ICdDYXJkaW9sb2dpYScsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cygyMDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uaGF2ZS5wcm9wZXJ0eSgnc3VjY2VzcycsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGVzY3JpYmUoJ1BVVCAvYXBpL3YxL3VzZXIvZG91dG9yLzppZCcsICgpID0+IHtcclxuICAgICAgICBpdCgnZGV2ZSBhdHVhbGl6YXIgYXMgaW5mb3JtYcOnw7VlcyBkZSB1bSBtw6lkaWNvIGV4aXN0ZW50ZScsIChkb25lKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYWkucmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAucHV0KCcvYXBpL3YxL3VzZXIvZG91dG9yL2RvY3RvcklkJylcclxuICAgICAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyIHRva2VuX2FkbWluX3ZhbGlkbycpXHJcbiAgICAgICAgICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0RvdXRvciBBdHVhbGl6YWRvJyxcclxuICAgICAgICAgICAgICAgICAgICBzcGVjaWFsdHk6ICdEZXJtYXRvbG9naWEnLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlcykudG8uaGF2ZS5zdGF0dXMoMjAwKTtcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ3N1Y2Nlc3MnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdERUxFVEUgL2FwaS92MS91c2VyL2RvdXRvci86ZG9jdG9ySWQnLCAoKSA9PiB7XHJcbiAgICAgICAgaXQoJ2RldmUgZXhjbHVpciB1bSBtw6lkaWNvIGV4aXN0ZW50ZScsIChkb25lKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYWkucmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAuZGVsZXRlKCcvYXBpL3YxL3VzZXIvZG91dG9yL2RvY3RvcklkJylcclxuICAgICAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyIHRva2VuX2FkbWluX3ZhbGlkbycpXHJcbiAgICAgICAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDIwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJywgJ03DqWRpY28gZXhjbHXDrWRvIGNvbSBzdWNlc3NvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhZnRlcigoZG9uZSkgPT4ge1xyXG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uY2xvc2UoKTtcclxuICAgICAgICBkb25lKCk7XHJcbiAgICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFN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","map":{"version":3,"names":["chai","require","chaiHttp","app","use","expect","describe","it","done","request","post","send","nome","email","senha","contato","end","err","res","to","have","status","body","be","an","property","password","set","name","get","specialty","put","after","mongoose","connection","close"],"sourceRoot":"C:\\Users\\joyce\\Documents\\Curso FULLSTACK\\Projeto_Integrador\\BACKEND\\test\\","sources":["user.test.js"],"sourcesContent":["const chai = require('chai');\r\nconst chaiHttp = require('chai-http');\r\nconst app = require('../app.js').default;\r\n\r\nchai.use(chaiHttp);\r\nconst { expect } = chai;\r\n\r\ndescribe('User Routes', () => {\r\n    it('deve registrar um novo paciente', (done) => {\r\n        chai.request(app)\r\n            .post('/api/v1/user/paciente/register')\r\n            .send({\r\n                nome: 'Test User',\r\n                email: 'testuser@example.com',\r\n                senha: '123456',\r\n                contato: '123456789'\r\n            })\r\n            .end((err, res) => {\r\n                expect(res).to.have.status(201);\r\n                expect(res.body).to.be.an('object');\r\n                expect(res.body).to.have.property('success', true);\r\n                done();\r\n            });\r\n    });\r\n\r\n    // Adicione outros testes aqui...\r\n\r\n    describe('POST /api/v1/user/login', () => {\r\n        it('deve fazer login com sucesso', (done) => {\r\n            chai.request(app)\r\n                .post('/api/v1/user/login')\r\n                .send({\r\n                    email: 'paciente@teste.com',\r\n                    password: 'senha123',\r\n                })\r\n                .end((err, res) => {\r\n                    expect(res).to.have.status(200);\r\n                    expect(res.body).to.have.property('token');\r\n                    done();\r\n                });\r\n        });\r\n\r\n        it('deve falhar ao fazer login com credenciais inválidas', (done) => {\r\n            chai.request(app)\r\n                .post('/api/v1/user/login')\r\n                .send({\r\n                    email: 'paciente@teste.com',\r\n                    password: 'senha_incorreta',\r\n                })\r\n                .end((err, res) => {\r\n                    expect(res).to.have.status(401);\r\n                    done();\r\n                });\r\n        });\r\n    });\r\n\r\n    describe('POST /api/v1/user/admin/addnew', () => {\r\n        it('deve adicionar um novo administrador (Requer autenticação)', (done) => {\r\n            chai.request(app)\r\n                .post('/api/v1/user/admin/addnew')\r\n                .set('Authorization', 'Bearer token_admin_valido')\r\n                .send({\r\n                    name: 'Novo Admin',\r\n                    email: 'admin@teste.com',\r\n                    password: 'senha123',\r\n                })\r\n                .end((err, res) => {\r\n                    expect(res).to.have.status(201);\r\n                    expect(res.body).to.have.property('success', true);\r\n                    done();\r\n                });\r\n        });\r\n    });\r\n\r\n    describe('GET /api/v1/user/doctors', () => {\r\n        it('deve obter a lista de médicos', (done) => {\r\n            chai.request(app)\r\n                .get('/api/v1/user/doctors')\r\n                .end((err, res) => {\r\n                    expect(res).to.have.status(200);\r\n                    expect(res.body).to.be.an('array');\r\n                    done();\r\n                });\r\n        });\r\n    });\r\n\r\n    describe('GET /api/v1/user/admin/logout', () => {\r\n        it('deve fazer logout de um administrador autenticado', (done) => {\r\n            chai.request(app)\r\n                .get('/api/v1/user/admin/logout')\r\n                .set('Authorization', 'Bearer token_admin_valido')\r\n                .end((err, res) => {\r\n                    expect(res).to.have.status(200);\r\n                    expect(res.body).to.have.property('message', 'Logout realizado com sucesso');\r\n                    done();\r\n                });\r\n        });\r\n    });\r\n\r\n    describe('POST /api/v1/user/doutor/addnew', () => {\r\n        it('deve adicionar um novo médico (Requer autenticação)', (done) => {\r\n            chai.request(app)\r\n                .post('/api/v1/user/doutor/addnew')\r\n                .set('Authorization', 'Bearer token_admin_valido')\r\n                .send({\r\n                    name: 'Doutor Teste',\r\n                    email: 'doutor@teste.com',\r\n                    specialty: 'Cardiologia',\r\n                })\r\n                .end((err, res) => {\r\n                    expect(res).to.have.status(201);\r\n                    expect(res.body).to.have.property('success', true);\r\n                    done();\r\n                });\r\n        });\r\n    });\r\n\r\n    describe('PUT /api/v1/user/doutor/:id', () => {\r\n        it('deve atualizar as informações de um médico existente', (done) => {\r\n            chai.request(app)\r\n                .put('/api/v1/user/doutor/doctorId')\r\n                .set('Authorization', 'Bearer token_admin_valido')\r\n                .send({\r\n                    name: 'Doutor Atualizado',\r\n                    specialty: 'Dermatologia',\r\n                })\r\n                .end((err, res) => {\r\n                    expect(res).to.have.status(200);\r\n                    expect(res.body).to.have.property('success', true);\r\n                    done();\r\n                });\r\n        });\r\n    });\r\n\r\n    describe('DELETE /api/v1/user/doutor/:doctorId', () => {\r\n        it('deve excluir um médico existente', (done) => {\r\n            chai.request(app)\r\n                .delete('/api/v1/user/doutor/doctorId')\r\n                .set('Authorization', 'Bearer token_admin_valido')\r\n                .end((err, res) => {\r\n                    expect(res).to.have.status(200);\r\n                    expect(res.body).to.have.property('message', 'Médico excluído com sucesso');\r\n                    done();\r\n                });\r\n        });\r\n    });\r\n\r\n    after((done) => {\r\n        mongoose.connection.close();\r\n        done();\r\n    });\r\n});\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1726257988706}}